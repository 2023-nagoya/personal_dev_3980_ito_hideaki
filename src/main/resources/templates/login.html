<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	   
	<meta charset="UTF-8">
	   <title>Diaryログイン</title>
	   
	<link rel="stylesheet" href="/css/login.css">
</head>

<body>
	<header>
		<h1>日記を記そう</h1>
	</header>
	    <div>
		    <span class="lang lang-jp">
			<span th:if="${error}" th:text="${error}"></span>

			<div th:if="${param.passwordChanged}">
				<div class="alert alert-success">パスワードが正常に変更されました。</div>
			</div>

			           <form action="/login" method="post" id="registration-form">
				               Eメール<br>
				               <input type="email" name="email" class="input"><br>
				               パスワード
				               <a href="/passwordReset">パスワードを忘れた場合</a><br>
				               <input type="password" name="password" class="input"><br>
				               <button class="btn btn-border btns" id="play-btn">進む</button>
				           </form><br>
			               初めてのご利用ですか？<br>
			               <a href="/create/account" class="create">アカウント作成</a>
			       
		</span>

		       <span class="lang lang-en" style="display: none;">
			           <form action="/login" method="post" class="form">
				               Email<br>
				               <input type="email" name="email"><br>
				               Password
				               <a href="/passwordReset">Forgot Password</a><br>
				               <input type="password" name="password"><br>
				               <button>Login</button>
				           </form><br>
			               New user?<br>
			               <a href="/create/account">Create an account</a>
			       </span>

		       <div>
			           <select onchange="changeLanguage(this.value)">
				               <option value="jp">日本語</option>
				               <option value="en">English</option>
			           </select>
		       </div>




		       
		<script>
			function changeLanguage(lang) {
				var elements = document.getElementsByClassName('lang');
				for (var i = 0; i < elements.length; i++) {
					elements[i].style.display = 'none';
				}

				var langElement = document.getElementsByClassName('lang-' + lang)[0];
				if (langElement) {
					langElement.style.display = '';
				}
			}
		</script>

		       
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				changeLanguage('jp');
			});
		</script>
		<script>
        // play button
        const play_btn = document.querySelector('#play-btn');
        const form = document.querySelector('#registration-form');
        // audio file
        let sound = new Audio("/sound.mp3");
        // play event
        play_btn.addEventListener('click', playSound);
        function playSound(e) {
            e.preventDefault(); // デフォルトのフォーム送信をキャンセル
            sound.play();
            setTimeout(() => {
                form.submit(); // フォームを送信して画面を遷移させる
            }, 250); // 音が再生されるまでの時間
        }
    </script>

		   
	</div>
</body>

</html>